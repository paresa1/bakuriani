<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>მისტიური ბაკურიანის ცენტრი</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #29446B;
            margin: 0;
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Navbar styling */
        .navbar {
            background: linear-gradient(135deg, #1E1E2D, #2C2C3E);
            padding: 10px 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .navbar-brand img {
            transition: transform 0.3s ease;
        }

        .navbar-brand img:hover {
            transform: scale(1.1);
        }

        .navbar-nav .nav-link {
            color: #FFFFFF !important;
            font-weight: 500;
            margin: 0 10px;
            transition: color 0.3s ease;
        }

        .navbar-nav .nav-link:hover {
            color: #FF6B6B !important;
        }

        .navbar-nav .dropdown-menu {
            background-color: #2C2C3E;
            border: none;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .navbar-nav .dropdown-item {
            color: #FFFFFF;
            transition: background-color 0.3s ease;
        }

        .navbar-nav .dropdown-item:hover {
            background-color: #FF6B6B;
            color: #1E1E2D;
        }

        .search-bar {
            max-width: 300px;
        }

        .search-bar .form-control {
            background-color: #2C2C3E;
            border: 1px solid #444;
            color: #FFFFFF;
        }

        .search-bar .btn {
            background-color: #FF6B6B;
            border: none;
            color: #1E1E2D;
        }

        .search-bar .btn:hover {
            background-color: #FF4C4C;
        }

        .social-icons a {
            color: #FFFFFF;
            margin: 0 10px;
            font-size: 18px;
            transition: color 0.3s ease;
        }

        .social-icons a:hover {
            color: #FF6B6B;
        }

        /* Sticky navbar */
        .sticky {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        /* Hero Section */
        .hero {
            background: url('https://source.unsplash.com/1920x600/?bakuriani,forest') no-repeat center center/cover;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #FFFFFF;
            margin-top: 70px; /* Adjusted for navbar */
        }

        .hero h1 {
            font-size: 48px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero p {
            font-size: 24px;
            margin-top: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .hero .btn {
            margin-top: 30px;
            background-color: #FF6B6B;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            transition: background-color 0.3s ease;
        }

        .hero .btn:hover {
            background-color: #FF4C4C;
        }

        /* Gallery Section */
        .gallery {
            padding: 40px 20px;
            background-color: #1E1E2D;
        }

        .gallery h2 {
            color: #FF6B6B;
            text-align: center;
            margin-bottom: 40px;
        }

        .gallery img {
            width: 100%;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .gallery img:hover {
            transform: scale(1.05);
        }

        /* Testimonials Section */
        .testimonials {
            padding: 40px 20px;
            background-color: #2C2C3E;
        }

        .testimonials h2 {
            color: #FF6B6B;
            text-align: center;
            margin-bottom: 40px;
        }

        .testimonial-card {
            background-color: #1E1E2D;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }

        .testimonial-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 15px;
        }

        .testimonial-card p {
            font-style: italic;
            color: #FFFFFF;
        }

        .testimonial-card h4 {
            color: #FF6B6B;
            margin-top: 20px;
        }

        /* Contact Form */
        .contact {
            padding: 40px 20px;
            background-color: #1E1E2D;
        }

        .contact h2 {
            color: #FF6B6B;
            text-align: center;
            margin-bottom: 40px;
        }

        .contact form {
            max-width: 600px;
            margin: 0 auto;
        }

        .contact label {
            color: #FFFFFF;
            margin-bottom: 5px;
            display: block;
        }

        .contact input, .contact textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #444;
            border-radius: 5px;
            background-color: #2C2C3E;
            color: #FFFFFF;
        }

        .contact button {
            background-color: #FF6B6B;
            border: none;
            padding: 10px 20px;
            font-size: 18px;
            transition: background-color 0.3s ease;
        }

        .contact button:hover {
            background-color: #FF4C4C;
        }

        /* Footer styling */
        footer {
            background: linear-gradient(135deg, #1E1E2D, #2C2C3E);
            color: #FFFFFF;
            padding: 40px 20px;
            margin-top: auto; /* Push footer to the bottom */
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.3);
        }

        footer h5 {
            color: #FF6B6B;
            margin-bottom: 20px;
        }

        footer a {
            color: #FFFFFF;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #FF6B6B;
        }

        footer .social-icons a {
            font-size: 24px;
            margin: 0 10px;
        }

        footer .copyright {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
            color: #AAAAAA;
        }

        /* Back to Top Button */
        #back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #FF6B6B;
            color: #1E1E2D;
            border: none;
            padding: 10px 15px;
            border-radius: 50%;
            font-size: 18px;
            cursor: pointer;
            display: none;
            transition: background-color 0.3s ease;
        }

        #back-to-top:hover {
            background-color: #FF4C4C;
        }

        /* Map styling */
        #map {
            position: absolute;
            top: 70px; /* Adjusted to account for the navbar height */
            bottom: 120px; /* Adjusted to account for the footer height */
            left: 0;
            right: 0;
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1E1E2D;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #loading-screen .spinner-border {
            width: 3rem;
            height: 3rem;
        }
    </style>
</head>
<body>
<!-- Loading Screen -->
<div id="loading-screen">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<header>
    <nav class="navbar navbar-expand-lg navbar-dark sticky">
        <div class="container-fluid">
            <!-- Logo -->
            <a class="navbar-brand" href="#">
                <img src="images/new-logo.png" alt="New Logo" width="200" height="30">
            </a>

            <!-- Hamburger Menu -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar Links -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">მთავარი</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">ისტორიები</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                            რუკა
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">ბაკურიანი</a></li>
                            <li><a class="dropdown-item" href="#">სხვა</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">შესახებ</a>
                    </li>
                </ul>

                <!-- Search Bar -->
                <form class="d-flex search-bar">
                    <input class="form-control me-2" type="search" placeholder="ძიება">
                    <button class="btn" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </form>

                <!-- Social Media Icons -->
                <div class="social-icons">
                    <a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
    </nav>
</header>

<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1 class="animate__animated animate__fadeInDown">მისტიური ბაკურიანის ცენტრი</h1>
        <p class="animate__animated animate__fadeInUp">აღმოაჩინეთ ბაკურიანის ცენტრის ყველაზე მისტიური ადგილები</p>
        <a href="#map" class="btn btn-primary animate__animated animate__fadeInUp">იხილეთ რუკა</a>
    </div>
</section>

<!-- Gallery Section -->
<section class="gallery">
    <div class="container">
        <h2>გალერეა</h2>
        <div class="row">
            <div class="col-md-4">
                <img src="https://source.unsplash.com/300x200/?bakuriani,forest" alt="Bakuriani Forest" class="animate__animated animate__fadeIn">
            </div>
            <div class="col-md-4">
                <img src="https://source.unsplash.com/300x200/?bakuriani,snow" alt="Bakuriani Snow" class="animate__animated animate__fadeIn">
            </div>
            <div class="col-md-4">
                <img src="https://source.unsplash.com/300x200/?bakuriani,mountain" alt="Bakuriani Mountain" class="animate__animated animate__fadeIn">
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials">
    <div class="container">
        <h2>რას ამბობენ ვიზიტორები?</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="testimonial-card animate__animated animate__fadeInLeft">
                    <img src="https://source.unsplash.com/80x80/?person" alt="Person 1">
                    <p>"ბაკურიანი ნამდვილად მისტიურია! ძალიან მომეწონა."</p>
                    <h4>- ნინო</h4>
                </div>
            </div>
            <div class="col-md-4">
                <div class="testimonial-card animate__animated animate__fadeInUp">
                    <img src="https://source.unsplash.com/80x80/?person" alt="Person 2">
                    <p>"ბაკურიანის მისტიკა უნიკალურია. გირჩევთ ყველას!"</p>
                    <h4>- გიორგი</h4>
                </div>
            </div>
            <div class="col-md-4">
                <div class="testimonial-card animate__animated animate__fadeInRight">
                    <img src="https://source.unsplash.com/80x80/?person" alt="Person 3">
                    <p>"ძალიან საინტერესო ისტორიები და ადგილები."</p>
                    <h4>- მარიამ</h4>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form -->
<section class="contact">
    <div class="container">
        <h2>დაგვიკავშირდით</h2>
        <form>
            <label for="name">სახელი</label>
            <input type="text" id="name" placeholder="შეიყვანეთ თქვენი სახელი" required>
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="შეიყვანეთ თქვენი Email" required>
            <label for="message">შეტყობინება</label>
            <textarea id="message" placeholder="შეიყვანეთ თქვენი შეტყობინება" rows="5" required></textarea>
            <button type="submit" class="btn btn-primary">გაგზავნა</button>
        </form>
    </div>
</section>

<!-- Map Section -->
<main>
    <div id="map"></div>
</main>

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h5>კონტაქტი</h5>
                <p>Email: info@mysteriousbakuriani.ge</p>
                <p>ტელეფონი: +995 123 456 789</p>
                <p>მისამართი: ბაკურიანი, საქართველო</p>
            </div>
            <div class="col-md-4">
                <h5>სწრაფი ბმულები</h5>
                <ul class="list-unstyled">
                    <li><a href="#">მთავარი</a></li>
                    <li><a href="#">ისტორიები</a></li>
                    <li><a href="#">რუკა</a></li>
                    <li><a href="#">შესახებ</a></li>
                </ul>
            </div>
            <div class="col-md-4">
                <h5>გამოგვყევი</h5>
                <div class="social-icons">
                    <a href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="#" target="_blank"><i class="fab fa-youtube"></i></a>
                    <a href="https://github.com/yourusername" target="_blank"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 text-center copyright">
                &copy; <span id="current-year"></span> მისტიური ბაკურიანი. ყველა უფლება დაცულია.
            </div>
        </div>
    </div>
</footer>

<!-- Back to Top Button -->
<button id="back-to-top" title="Go to top"><i class="fas fa-arrow-up"></i></button>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Hide loading screen when page is loaded
    window.addEventListener('load', function () {
        document.getElementById('loading-screen').style.display = 'none';
    });

    // Define Bakuriani's center and tighter bounds
    var bakurianiCenter = [41.7497, 43.5000]; // Center of Bakuriani
    var bakurianiBounds = L.latLngBounds(
        L.latLng(41.73, 43.48), // Southwest corner (tighter bounds)
        L.latLng(41.77, 43.52)  // Northeast corner (tighter bounds)
    );

    // Initialize the map with restrictions
    var map = L.map('map', {
        center: bakurianiCenter, // Center of Bakuriani
        zoom: 14, // Zoomed in closer to the city center
        minZoom: 13, // Prevent zooming out too far
        maxZoom: 16, // Prevent zooming in too close
        maxBounds: bakurianiBounds, // Restrict panning outside Bakuriani
        maxBoundsViscosity: 1.0 // Strictly enforce bounds
    });

    // Use MapTiler Terrain Style
    L.tileLayer('https://api.maptiler.com/maps/outdoor/{z}/{x}/{y}.png?key=n8MKQcXuHsG2NpYWrIaM', {
        attribution: '© <a href="https://www.maptiler.com/copyright/">MapTiler</a> © <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'
    }).addTo(map);

    // Function to generate random coordinates within Bakuriani's central area
    function getRandomCoordinateInBakurianiCenter() {
        var lat = 41.74 + Math.random() * 0.03; // Random latitude within Bakuriani center
        var lng = 43.49 + Math.random() * 0.02; // Random longitude within Bakuriani center
        return [lat, lng];
    }

    // Add markers with random coordinates in Bakuriani's center and updated content
    var markers = [
        {
            coords: getRandomCoordinateInBakurianiCenter(),
            title: "Mysterious Forest Cabin",
            image: "https://via.placeholder.com/300x150?text=Forest+Cabin",
            content: `
                    <h3>Mysterious Forest Cabin</h3>
                    <img src="https://via.placeholder.com/300x150?text=Forest+Cabin" alt="Forest Cabin">
                    <p>This old cabin in the woods is said to be haunted by the spirit of a lumberjack who disappeared decades ago. Locals claim to hear sawing sounds at night.</p>
                    <a href="#">Read more...</a>
                `
        },
        {
            coords: getRandomCoordinateInBakurianiCenter(),
            title: "Abandoned Ski Lift",
            image: "https://via.placeholder.com/300x150?text=Ski+Lift",
            content: `
                    <h3>Abandoned Ski Lift</h3>
                    <img src="https://via.placeholder.com/300x150?text=Ski+Lift" alt="Ski Lift">
                    <p>An old ski lift that was abandoned after a tragic accident. Visitors report hearing faint whispers and seeing shadowy figures near the lift.</p>
                    <a href="#">Read more...</a>
                `
        },
        {
            coords: getRandomCoordinateInBakurianiCenter(),
            title: "Hidden Waterfall",
            image: "https://via.placeholder.com/300x150?text=Hidden+Waterfall",
            content: `
                    <h3>Hidden Waterfall</h3>
                    <img src="https://via.placeholder.com/300x150?text=Hidden+Waterfall" alt="Hidden Waterfall">
                    <p>This secluded waterfall is surrounded by legends of a hidden treasure. Some say the ghost of a treasure hunter guards the spot.</p>
                    <a href="#">Read more...</a>
                `
        },
        {
            coords: getRandomCoordinateInBakurianiCenter(),
            title: "Old Bakuriani Church",
            image: "https://via.placeholder.com/300x150?text=Old+Church",
            content: `
                    <h3>Old Bakuriani Church</h3>
                    <img src="https://via.placeholder.com/300x150?text=Old+Church" alt="Old Church">
                    <p>An ancient church with a mysterious past. Locals believe it is haunted by the spirits of monks who once lived here.</p>
                    <a href="#">Read more...</a>
                `
        }
    ];

    // Add markers with hover and click popups
    markers.forEach(location => {
        var marker = L.marker(location.coords)
            .addTo(map)
            .bindTooltip(location.title, { permanent: false, direction: 'top' }) // Hover tooltip
            .bindPopup(location.content, { className: 'custom-popup' }); // Click popup
    });

    // Back to Top Button
    var backToTopButton = document.getElementById('back-to-top');
    window.addEventListener('scroll', function () {
        if (window.pageYOffset > 300) {
            backToTopButton.style.display = 'block';
        } else {
            backToTopButton.style.display = 'none';
        }
    });

    backToTopButton.addEventListener('click', function () {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Update copyright year dynamically
    document.getElementById('current-year').textContent = new Date().getFullYear();
</script>
</body>
</html>